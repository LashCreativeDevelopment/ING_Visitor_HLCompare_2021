$(document).ready(function(){/iPad|iPhone|iPod/.test(navigator.platform)&&$("html").addClass("iOS")}),angular.module("Homeloan-App",["ING-App","slickCarousel","dynamicNumber"]),angular.module("Homeloan-App").controller("HomeloanController",["$scope","$timeout",function(t,e){t.mainInfo={readyToStart:!1,activePage:0,tabInfos:[{title:"Compare home loans",icon:"/svgs/homeloan-symbols.svg#homeloan-svg-home"},{title:"Tools & calculators",icon:"/svgs/homeloan-symbols.svg#homeloan-svg-calculator"},{title:"How-to guides, hints & tips",icon:"/svgs/homeloan-symbols.svg#homeloan-svg-question"}],getInterestRateByCode:function(e){return n(e)},startCompare:function(){$('[data-toggle="tab"][href="#main-tab-0"]').trigger("click"),e(function(){t.mainInfo.refineRepayment()})},getIRString:function(e){return Number(e).formatMoney(2,".",",")},isTableOpen:!1,goToComparison:function(){t.mainInfo.updateActivePage(0),t.mainInfo._scrollUp()},updateActivePage:function(e){t.mainInfo.activePage=e},_scrollUp:function(){var e=document.querySelector(".homeloan-content").getBoundingClientRect().top+window.scrollY-100;window.scrollTo(0,e)}};var a=void 0;t.init=function(){var e=$("#HomeloanController").data("interestRateInfo");void 0!==e&&o(e)},t.notifyInterestRateInfo=function(e){o(e)};var o=function(e){a=e,i()},n=function(o){var n=null;return angular.isDefined(a)&&angular.forEach(a.InterestRates,function(e,t){e.RateCode===o&&(n=e.Rate)}),n},i=function(){e(function(){t.mainInfo.updateCalculator(),t.mainInfo.readyToStart=!0,svg4everybody()})}}]),angular.module("Homeloan-App").controller("HomeloanCompareController",["$scope","$timeout","$uibModal","$sce",function(c,n,a,e){c.pageInfo={title:"Add your basics to compare home loans:",repaymentOptionsCollapsed:!0,borrowingInputShown:!1,toggleRepaymentOptions:function(){c.pageInfo.repaymentOptionsCollapsed=!c.pageInfo.repaymentOptionsCollapsed,n(function(){c.pageInfo.borrowingInputShown=!c.pageInfo.borrowingInputShown},500);var e=$(".module-tab-content").offset().top-60;$("body, html").animate({scrollTop:e+"px"},500)},refineRepayment:function(){if(mediaQuery==media_xs)c.pageInfo.openModalMobileCalculator();else{c.pageInfo.repaymentOptionsCollapsed&&(c.pageInfo.repaymentOptionsCollapsed=!c.pageInfo.repaymentOptionsCollapsed,n(function(){c.pageInfo.borrowingInputShown=!c.pageInfo.borrowingInputShown},500));var e=$(".module-tab-content").offset().top-60;$("body, html").animate({scrollTop:e+"px"},500)}},openModalMobileCalculator:function(){a.open({animation:!0,templateUrl:"modalMobileCalculatorTemplate.html",controller:"ModalMobileCalculatorController",windowClass:"homeloan-modal-style",resolve:{calcOptions:function(){return c.calcOptions}}}).result.then(function(e){c.calcOptions=e},function(){})},openModalMobileFixedRateTable:function(){a.open({animation:!0,templateUrl:"modalMobileFixedRateTableTemplate.html",controller:"ModalMobileFixedRateTableController",windowClass:"homeloan-modal-style",resolve:{fixedRateTableInfo:function(){return c.fixedRateTableInfo},mainInfo:function(){return c.mainInfo}}})},openModalGenericInformation:function(e){var t=void 0,o=c.cardInfos[e].title;"Mortgage Simplifier"===o?t="modalMortgageSimplifierInformationTemplate.html":"Orange Advantage"===o?t="modalOrangeAdvantageInformationTemplate.html":"Fixed Rate Loan"===o&&(0==c.calcOptions.optionPurpose.selected?t="modalFixedRateLiveInInformationTemplate.html":1==c.calcOptions.optionPurpose.selected&&(t="modalFixedRateInvestInInformationTemplate.html")),angular.isDefined(t)&&a.open({animation:!0,templateUrl:t,controller:"ModalGenericController",windowClass:"blue-modal-style"})},slickConfig:{infinite:!1,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:'<button type="button" class="slick-prev"><span class="icon-font icon-arrow-left"></span></button>',nextArrow:'<button type="button" class="slick-next"><span class="icon-font icon-arrow-right"></span></button>'}},c.mainInfo.refineRepayment=function(){c.pageInfo.refineRepayment()},c.mainInfo.selectFixedRate=function(e,t){c.fixedRateTableInfo.updateFixedRateCardInfo(e,t),c.mainInfo.isTableOpen=!1};var p=[{code:"LVR90"},{code:"LVR80_90"},{code:"LVR70_80"},{code:"LVR60_70"},{code:"LVR50_60"},{code:"LVR50"}],o=[{name:"< 10%",value:0},{name:"10% - 20%",value:1},{name:"20% - 30%",value:2},{name:"30% - 40%",value:3},{name:"40% - 50%",value:4},{name:"> 50%",value:5}];c.calcOptions={optionPurpose:{title:"Purpose:",menus:[{name:"To live in",value:void 0},{name:"To invest in",value:void 0}],selected:0},optionBorrowing:{title:"Borrowing:",menus:[{name:"< $150K",nameXs:"< $150K",value:"100000",threshold:15e4},{name:"$150K - <br/>$500K",nameXs:"$150K - $500K",value:"300000",threshold:5e5,doubleline:!0},{name:"> $500K",nameXs:"$500K - $1Million",value:"500000",threshold:1e6,doubleline:!0},{name:"> $1Million",nameXs:"> $1Million",value:"1000000",threshold:Number.MAX_VALUE}],selected:2,value:"0",isFromInput:!1,isFromRadio:!0},optionDeposit:{title:"Deposit:",menus:o.slice(),selected:JSON.parse(JSON.stringify({name:"20% - 30%",value:2}))},optionRepayment:{title:"Repayment type:",menus:[{name:"Principal & <br/>interest",value:"",doubleline:!0},{name:"Interest only",value:"interest"}],selected:0},optionFrequency:{title:"Frequency:",menus:[{name:"Fortnightly",value:26},{name:"Monthly",value:12}],selected:{name:"Monthly",value:12},selectedIndex:1},optionLoanTerm:{title:"Loan term:",menus:[{name:"5 years",value:5},{name:"10 years",value:10},{name:"15 years",value:15},{name:"20 years",value:20},{name:"25 years",value:25},{name:"30 years",value:30}],selected:{name:"30 years",value:30}},forCard:{frequency:"[FREQUENCY]",description:"[DESCRIPTION]",descriptionFixedRate:"[DESCRIPTION-FIXEDRATE]"}},c.cardInfos=[{title:"Mortgage Simplifier",linkedUrl:"/home-loans/mortgage-simplifier.html",description:"Pay no ongoing fees",interestInfo1:{name:"Variable rate"},interestInfo2:{name:"Comparison rate"},repaymentValue:void 0,features:[{icon:"",content:"Unlimited additional repayments"},{icon:"",content:"No interest offset"},{icon:"",content:"Redraw facility"},{icon:"",content:"Free ATMs everywhere in Australia (when you open an Orange Everyday)"},{icon:"",content:"Ditch international transaction fees (when you open an Orange Everyday)"},{icon:"",content:"Pay as you go servicing fees for switches or variations"},{icon:"",content:"No ongoing monthly or annual account-keeping fees"},{icon:"",content:"Interest rate discounts for new owner occupiers borrowings of $150,000+ with LVR of 90% or less"},{icon:"",content:'Pay down on your home loan while you spend with <a href="/everyday-banking/everyday-round-up.html?pid=vis:hlpp:table:hleru">everyday round up</a>'}],alertInfo:{collapsed:!0,content:""}},{title:"Orange Advantage",linkedUrl:"/home-loans/orange-advantage.html",description:"100% Offset facility",interestInfo1:{name:"Variable rate"},interestInfo2:{name:"Comparison rate"},repaymentValue:void 0,features:[{icon:"",content:"Unlimited additional repayments"},{icon:"",content:"100% interest offset"},{icon:"",content:"Redraw facility"},{icon:"",content:"Free ATMs everywhere in Australia (when you open an Orange Everyday)"},{icon:"",content:"Ditch international transaction fees (when you open an Orange Everyday)"},{icon:"",content:"No switch fees or variations fees. <br><i>Discharge and other fees may still apply</i>"},{icon:"",content:"No monthly fees"},{icon:"",content:"Low $299 annual fee"},{icon:"",content:'Pay down on your home loan while you spend with <a href="/everyday-banking/everyday-round-up.html?pid=vis:hlpp:table:hleru">everyday round up</a>'}],alertInfo:{collapsed:!0,content:""}},{title:"Fixed Rate Loan",linkedUrl:"/home-loans/fixed-rate-home-loan.html",description:"Repayment & rate certainty",interestInfo1:{name:"",showTable:!0},interestInfo2:{name:"Comparison rate"},specialOffer:!0,repaymentValue:void 0,features:[{icon:"",content:"Additional repayments of up to $10K per fixed year"},{icon:"",content:"No interest offset"},{icon:"",content:"No redraw facility"},{icon:"",content:"Free ATMs everywhere in Australia (when you open an Orange Everyday)"},{icon:"",content:"Ditch international transaction fees (when you open an Orange Everyday)"},{icon:"",content:"No ongoing monthly or annual account keeping fees"},{icon:"",content:"Interest rate discounts available"},{icon:"",content:"Waiver of $499 application fee when combined with an Orange Advantage"},{icon:"",content:"Rate and repayment certainty"}],alertInfo:{collapsed:!0,content:""}}],c.cardOptions={featuresCollapsed:!0,toggleFeatures:function(){c.cardOptions.featuresCollapsed=!c.cardOptions.featuresCollapsed},alignFeatureListHeight:function(){mediaQuery!=media_xs&&n(function(){var e,t=$('[uib-collapse="cardOptions.featuresCollapsed"] .feature-list'),o=0;for(e=0;e<t.length;e++){var n=t[e],a=$(n).height();o<a&&(o=a)}for(e=0;e<t.length;e++){n=t[e];$(n).height(o)}})},toggleAlert:function(e,t){t.alertCollapsed=!t.alertCollapsed;var o=e.target;t.alertCollapsed?n(function(){$(o).parents(".homeloan-card").removeClass("alert-mode"),$(o).parents(".card-slider").removeClass("alert-mode")},c.animationInfo.collapseDuration):($(o).parents(".card-slider").find(".homeloan-card").removeClass("alert-mode"),$(o).parents(".homeloan-card").addClass("alert-mode"),$(o).parents(".card-slider").addClass("alert-mode"))}},c.fixedRateTableInfo={selected:{tableIndex:0,selectedRowIndex:0},tableInfos:[],updateFixedInterestRates:function(e,t){var o=c.calcOptions.optionDeposit.selected.value,n=p[o].code;if(0==c.calcOptions.optionPurpose.selected){if(0==c.calcOptions.optionRepayment.selected)c.fixedRateTableInfo.tableInfos=[{titleHtml:'When combined with an <span class="color-orange bold">Orange Advantage</span>',rateInfos:[{year:1,fixed:f("FRL_OA_1_YEAR_"+n),comparison:f("COMP_FRL_OA_1_YEAR_"+n),combined:!0},{year:2,fixed:f("FRL_OA_2_YEARS_"+n),comparison:f("COMP_FRL_OA_2_YEARS_"+n),combined:!0},{year:3,fixed:f("FRL_OA_3_YEARS_"+n),comparison:f("COMP_FRL_OA_3_YEARS_"+n),combined:!0},{year:4,fixed:f("FRL_OA_4_YEARS_"+n),comparison:f("COMP_FRL_OA_4_YEARS_"+n),combined:!0},{year:5,fixed:f("FRL_OA_5_YEARS_"+n),comparison:f("COMP_FRL_OA_5_YEARS_"+n),combined:!0}]},{titleHtml:'When not combined with an <span class="color-orange bold">Orange Advantage</span>',rateInfos:[{year:1,fixed:f("FRL_1_YEAR_"+n),comparison:f("COMP_FRL_1_YEAR_"+n),combined:!1},{year:2,fixed:f("FRL_2_YEARS_"+n),comparison:f("COMP_FRL_2_YEARS_"+n),combined:!1},{year:3,fixed:f("FRL_3_YEARS_"+n),comparison:f("COMP_FRL_3_YEARS_"+n),combined:!1},{year:4,fixed:f("FRL_4_YEARS_"+n),comparison:f("COMP_FRL_4_YEARS_"+n),combined:!1},{year:5,fixed:f("FRL_5_YEARS_"+n),comparison:f("COMP_FRL_5_YEARS_"+n),combined:!1}]}];else{if(1!=c.calcOptions.optionRepayment.selected)return;c.fixedRateTableInfo.tableInfos=[{titleHtml:'When combined with an <span class="color-orange bold">Orange Advantage</span>',rateInfos:[{year:1,fixed:f("FRL_OA_1_YEAR_IO_"+n),comparison:f("CP_FRL_OA_1_YEAR_IO_"+n),combined:!0},{year:2,fixed:f("FRL_OA_2_YEARS_IO_"+n),comparison:f("CP_FRL_OA_2_YEARS_IO_"+n),combined:!0},{year:3,fixed:f("FRL_OA_3_YEARS_IO_"+n),comparison:f("CP_FRL_OA_3_YEARS_IO_"+n),combined:!0},{year:4,fixed:f("FRL_OA_4_YEARS_IO_"+n),comparison:f("CP_FRL_OA_4_YEARS_IO_"+n),combined:!0},{year:5,fixed:f("FRL_OA_5_YEARS_IO_"+n),comparison:f("CP_FRL_OA_5_YEARS_IO_"+n),combined:!0}]},{titleHtml:'When not combined with an <span class="color-orange bold">Orange Advantage</span>',rateInfos:[{year:1,fixed:f("FRL_1_YEAR_IO_"+n),comparison:f("CP_FRL_1_YEAR_IO_"+n),combined:!1},{year:2,fixed:f("FRL_2_YEARS_IO_"+n),comparison:f("CP_FRL_2_YEARS_IO_"+n),combined:!1},{year:3,fixed:f("FRL_3_YEARS_IO_"+n),comparison:f("CP_FRL_3_YEARS_IO_"+n),combined:!1},{year:4,fixed:f("FRL_4_YEARS_IO_"+n),comparison:f("CP_FRL_4_YEARS_IO_"+n),combined:!1},{year:5,fixed:f("FRL_5_YEARS_IO_"+n),comparison:f("CP_FRL_5_YEARS_IO_"+n),combined:!1}]}]}var a=i(c.fixedRateTableInfo.tableInfos);c.fixedRateTableInfo.updateFixedRateCardInfo(a.tableIndex,a.rateIndex)}else{if(1!=c.calcOptions.optionPurpose.selected)return;if(0==c.calcOptions.optionRepayment.selected)c.fixedRateTableInfo.tableInfos=[{titleHtml:"Investor",rateInfos:[{year:1,fixed:f("FRL_INV_1_YEAR_"+n),comparison:f("COMP_FRL_INV_1_YEAR_"+n)},{year:2,fixed:f("FRL_INV_2_YEARS_"+n),comparison:f("COMP_FRL_INV_2_YEARS_"+n)},{year:3,fixed:f("FRL_INV_3_YEARS_"+n),comparison:f("COMP_FRL_INV_3_YEARS_"+n)},{year:4,fixed:f("FRL_INV_4_YEARS_"+n),comparison:f("COMP_FRL_INV_4_YEARS_"+n)},{year:5,fixed:f("FRL_INV_5_YEARS_"+n),comparison:f("COMP_FRL_INV_5_YEARS_"+n)}]}];else{if(1!=c.calcOptions.optionRepayment.selected)return;c.fixedRateTableInfo.tableInfos=[{titleHtml:"Investor",rateInfos:[{year:1,fixed:f("FRL_INV_1_YEAR_IO_"+n),comparison:f("CP_FRL_INV_1_YEAR_IO_"+n)},{year:2,fixed:f("FRL_INV_2_YEARS_IO_"+n),comparison:f("CP_FRL_INV_2_YEARS_IO_"+n)},{year:3,fixed:f("FRL_INV_3_YEARS_IO_"+n),comparison:f("CP_FRL_INV_3_YEARS_IO_"+n)},{year:4,fixed:f("FRL_INV_4_YEARS_IO_"+n),comparison:f("CP_FRL_INV_4_YEARS_IO_"+n)},{year:5,fixed:f("FRL_INV_5_YEARS_IO_"+n),comparison:f("CP_FRL_INV_5_YEARS_IO_"+n)}]}]}a=i(c.fixedRateTableInfo.tableInfos);c.fixedRateTableInfo.updateFixedRateCardInfo(a.tableIndex,a.rateIndex)}function i(e){for(var t=0,o=0,n=Number.MAX_VALUE,a=e.length,i=0;i<a;i++)for(var r=e[i],l=r.rateInfos.length,s=0;s<l;s++){var c=r.rateInfos[s];c.fixed<=n&&(n=c.fixed,t=i,o=s)}return{tableIndex:t,rateIndex:o}}},updateFixedRateCardInfo:function(e,t){c.fixedRateTableInfo.selected.tableIndex=e,c.fixedRateTableInfo.selected.rowIndex=t;var o=c.fixedRateTableInfo.tableInfos[e].rateInfos[t];m(o),_()}},c.animationInfo={addFeatureAnimation:function(){n(function(){$(".feature-list-transition").addClass("active")})},removeFeatureAnimation:function(){n(function(){$(".feature-list-transition").removeClass("active")})},collapseDuration:500},c.mainInfo.updateCalculator=function(){r()};function i(){t(),s(),_()}var r=function(){t(),s(),l(),_()},t=function(){c.calcOptions.forCard.frequency=c.calcOptions.optionFrequency.selected.name;var e=0==c.calcOptions.optionRepayment.selected?"P&I":"interest only";c.calcOptions.forCard.description="Based on a "+c.calcOptions.optionLoanTerm.selected.value+" year $"+Number(c.calcOptions.optionBorrowing.value).formatMoney(0,".",",")+" loan paying "+e+".",c.calcOptions.forCard.descriptionFixedRate="For the fixed interest period on a "+c.calcOptions.optionLoanTerm.selected.value+" year $"+Number(c.calcOptions.optionBorrowing.value).formatMoney(0,".",",")+" loan paying "+(0==c.calcOptions.optionRepayment.selected?"P&I":"interest only")+"."},l=function(){c.fixedRateTableInfo.updateFixedInterestRates()},s=function(){d(),u(),l()},d=function(){var e,t=c.cardInfos[0],o=t.interestInfo1,n=t.interestInfo2,a=c.calcOptions.optionPurpose.selected,i=c.calcOptions.optionBorrowing.selected,r=c.calcOptions.optionDeposit.selected.value,l=c.calcOptions.optionRepayment.selected,s="";0==i?(0==a&&(s=1==l?"MS_IO_MAX150_OO":"MS_MAX150"),1==a&&(s=1==l?"MS_IO_MAX150_INV":"MS_MAX150_INV")):1==i?(0==a&&(s=1==l?"MS_IO_150_500_OO":"MS150_500"),1==a&&(s=1==l?"MS_IO_150_500_INV":"MS150_500_INV")):2==i?(0==a&&(s=1==l?"MS_IO_MIN500_OO":"MS_MIN500"),1==a&&(s=1==l?"MS_IO_MIN500_INV":"MS_MIN500_INV")):3==i&&(0==a&&(s=1==l?"MS_IO_MIN1_OO":"MS_MIN1"),1==a&&(s=1==l?"MS_IO_MIN1_INV":"MS_MIN1_INV")),e="CP_"+(s+="_"+p[r].code),o.rate=c.mainInfo.getInterestRateByCode(s),n.rate=c.mainInfo.getInterestRateByCode(e)},u=function(){var e=c.cardInfos[1],t=e.interestInfo1,o=e.interestInfo2,n=c.calcOptions.optionPurpose.selected,a=c.calcOptions.optionBorrowing.selected,i=c.calcOptions.optionDeposit.selected.value,r=c.calcOptions.optionRepayment.selected,l=p[i].code;0==a?(0==n&&(interestRateCode1=1==r?"OA_IO_MAX150_OO":"OA_MAX150"),1==n&&(interestRateCode1=1==r?"OA_IO_MAX150_INV":"OA_MAX150_INV")):1==a?(0==n&&(interestRateCode1=1==r?"OA_IO_150_500_OO":"OA150_500"),1==n&&(interestRateCode1=1==r?"OA_IO_150_500_INV":"OA150_500_INV")):2==a?(0==n&&(interestRateCode1=1==r?"OA_IO_MIN500_OO":"OA_MIN500"),1==n&&(interestRateCode1=1==r?"OA_IO_MIN500_INV":"OA_MIN500_INV")):3==a&&(0==n&&(interestRateCode1=1==r?"OA_IO_1M_OO":"OA_PI_1M_OO"),1==n&&(interestRateCode1=1==r?"OA_IO_1M_INV":"OA_PI_1M_INV")),interestRateCode1+="_"+l,interestRateCode2="CP_"+interestRateCode1,t.rate=c.mainInfo.getInterestRateByCode(interestRateCode1),o.rate=c.mainInfo.getInterestRateByCode(interestRateCode2)},m=function(e){var t=c.cardInfos[2];t.interestInfo1.rate=e.fixed,t.interestInfo1.name=e.year+' YR fixed rate <span class="icon-font icon-arrow-down"></span>',t.interestInfo2.rate=e.comparison,0==e.combined?t.specialOffer=!1:t.specialOffer=!0},f=function(e){return c.mainInfo.getInterestRateByCode(e)},_=function(){var t=c.calcOptions.optionRepayment.selected;angular.forEach(c.cardInfos,function(e){0==t?e.repaymentValue=I(e.interestInfo1.rate):1==t&&(e.repaymentValue=h(e.interestInfo1.rate))})},I=function(e){var t=.01*e,o=Number(c.calcOptions.optionFrequency.selected.value),n=Number(c.calcOptions.optionBorrowing.value).toFixed(2),a=Number(c.calcOptions.optionLoanTerm.selected.value),i=t/o*n/(1-Math.pow(1+t/o,-a*o));return Number(i).formatMoney(0,".",",")},h=function(e){var t=.01*e,o=Number(c.calcOptions.optionFrequency.selected.value),n=Number(c.calcOptions.optionBorrowing.value).toFixed(2);return Number(n*(t/o)).formatMoney(0,".",",")};c.$watch("calcOptions.optionPurpose.selected",function(){var e=c.calcOptions.optionDeposit.menus,t=o.length;1==c.calcOptions.optionPurpose.selected?e.length==t&&(c.calcOptions.optionDeposit.selected!=c.calcOptions.optionDeposit.menus[0]&&c.calcOptions.optionDeposit.selected!=c.calcOptions.optionDeposit.menus[1]||(c.calcOptions.optionDeposit.selected=c.calcOptions.optionDeposit.menus[2]),c.calcOptions.optionDeposit.menus.splice(0,2)):0==c.calcOptions.optionPurpose.selected?1==c.calcOptions.optionRepayment.selected&&e.length<t||(1==c.calcOptions.optionRepayment.selected&&e.length==t?(c.calcOptions.optionDeposit.selected!=c.calcOptions.optionDeposit.menus[0]&&c.calcOptions.optionDeposit.selected!=c.calcOptions.optionDeposit.menus[1]||(c.calcOptions.optionDeposit.selected=c.calcOptions.optionDeposit.menus[2]),c.calcOptions.optionDeposit.menus.splice(0,2)):e.length<t&&(c.calcOptions.optionDeposit.menus=o.slice())):e.length<t&&(c.calcOptions.optionDeposit.menus=o.slice()),r()}),c.$watch("calcOptions.optionBorrowing.selected",function(){if(c.calcOptions.optionBorrowing.isFromInput)c.calcOptions.optionBorrowing.isFromInput=!1;else{var e=c.calcOptions.optionBorrowing.selected,t=c.calcOptions.optionBorrowing.menus[e].value;c.calcOptions.optionBorrowing.value!==t&&(c.calcOptions.optionBorrowing.isFromRadio=!0,c.calcOptions.optionBorrowing.value=t),i()}}),c.$watch("calcOptions.optionBorrowing.value",function(){if(c.calcOptions.optionBorrowing.isFromRadio)c.calcOptions.optionBorrowing.isFromRadio=!1;else{for(var e=Number(c.calcOptions.optionBorrowing.value),t=c.calcOptions.optionBorrowing.menus,o=0;o<t.length;o++)if(e<t[o].threshold){if(c.calcOptions.optionBorrowing.selected===o)break;c.calcOptions.optionBorrowing.isFromInput=!0,c.calcOptions.optionBorrowing.selected=o;break}i()}}),c.$watch("calcOptions.optionDeposit.selected",function(){i()}),c.$watch("calcOptions.optionRepayment.selected",function(){var e=c.calcOptions.optionDeposit.menus,t=o.length;0==c.calcOptions.optionPurpose.selected&&(1==c.calcOptions.optionRepayment.selected&&e.length==t?(c.calcOptions.optionDeposit.selected!=c.calcOptions.optionDeposit.menus[0]&&c.calcOptions.optionDeposit.selected!=c.calcOptions.optionDeposit.menus[1]||(c.calcOptions.optionDeposit.selected=c.calcOptions.optionDeposit.menus[2]),c.calcOptions.optionDeposit.menus.splice(0,2)):e.length<t&&(c.calcOptions.optionDeposit.menus=o.slice())),i()}),c.$watch("calcOptions.optionFrequency.selected",function(){i()}),c.$watch("calcOptions.optionFrequency.selectedIndex",function(){c.calcOptions.optionFrequency.selected=c.calcOptions.optionFrequency.menus[c.calcOptions.optionFrequency.selectedIndex]}),c.$watch("calcOptions.optionLoanTerm.selected",function(){i()})}]),angular.module("Homeloan-App").controller("HomeloanToolsController",["$scope","$timeout","$sce",function(t,e,o){t.pageInfo={title:"In planning mode? Use these calculators to help you:"},t.dom={borrowingPowerCalculatorBox:$(".content-container.borrowing-power-calculator-box"),calculator:$("#ic-calculator"),calculatorBox:$(".content-container.calculator-box"),calculatorScript:$("#calculator-script")},t.calculatorOptions={},t.calculatorOptions.infos=[{name:"Borrowing power calculator"},{name:"Repayments calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=b9d47181-d8f1-46b4-bed8-e0cec1946c77&target="><\/script>'},{name:"Offset calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=b598c0b5-3b5d-4276-a1f6-714289a3d346&target="><\/script>'},{name:"Extra repayments calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=59b5b184-2b6e-43f6-ac20-8c9974705d32&target="><\/script>'},{name:"Stamp duty calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=edc16223-6f4e-4adb-8174-35f518e62b57&target="><\/script>'},{name:"Buying costs calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript/?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=c4c62878-b57f-4ec1-87fe-dbbfa41b4872&target="><\/script>'},{name:"Lump sum calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=b5c83c8c-da8f-40df-be7f-b7438bd5d196&target="><\/script>'},{name:"Split loan calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=c5823a35-9b9a-44ff-b1fc-0ee05b504fdf&target="><\/script>'},{name:"Where can I buy calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=71f2649a-1213-421e-9aa9-07bf30e11390&target="><\/script>'},{name:"Loan comparison calculator",script:'<script type="text/javascript" src="https://calculators.infochoice.com.au/Ui/GetScript/?clientId=5dedeeb5-c900-42ab-ae01-5e74dda01085&calcId=da4caadb-7397-4224-b33c-9fd667393d05&target="><\/script>'}],t.calculatorOptions.selectedIndex=0,t.calculatorOptions.selectedInfo=void 0,t.calculatorOptions.selectCalculator=function(e){0===(t.calculatorOptions.selectedIndex=e)?(t.dom.calculatorBox.hide(),t.dom.borrowingPowerCalculatorBox.show()):(t.dom.borrowingPowerCalculatorBox.hide(),t.dom.calculatorBox.show(),t.dom.calculator.html(""),t.dom.calculatorScript.html(t.calculatorOptions.infos[e].script))},t.calculatorOptions.changeInfo=function(o){var n=void 0;angular.forEach(t.calculatorOptions.infos,function(e,t){e.name!==o.name||(n=t)}),angular.isDefined(n)&&t.calculatorOptions.selectCalculator(n)},t.calculatorOptions.moreCalculatorCollapsed=!0,t.calculatorOptions.toggleMoreCalculator=function(){t.calculatorOptions.moreCalculatorCollapsed=!t.calculatorOptions.moreCalculatorCollapsed}}]),angular.module("Homeloan-App").controller("HomeloanTipsController",["$scope","$timeout","$sce",function(t,e,o){t.pageInfo={title:"Tools and resources to help with your home loan:"},t.linkOptions={},t.linkOptions.selectedIndex=0,t.linkOptions.selectLinkGroupButton=function(e){t.linkOptions.selectedIndex=e},t.linkOptions.infos=[{name:"Buy a home",links:[{name:"First home buyers guide",url:"https://www.ing.com.au/pdf/homeloans/FHB-Guide-DIRECT-1-WEB-SEC.pdf",target:"_blank"},{name:"ING Property Reports",url:"https://www.propertyvalue.com.au/ing?utm_source=howtoguides&utm_medium=VisitorSite",target:"_blank"},{name:"First home buyers grant",url:"/home-loans/tips-hints-guides/first-home-owners-grant.html"},{name:"Property buyer checklist",url:"/pdf/property_buyers_guide.pdf",target:"_blank"},{name:"What's the right home loan for me?",url:"/home-loans/tips-hints-guides/whats-the-right-home-loan-for-me.html"},{name:"First home buyers FAQ",url:"/home-loans/tips-hints-guides/first-home-buyers-faq.html"},{name:"Finding the home you want",url:"/home-loans/tips-hints-guides/finding-the-home-you-want.html"},{name:"Home loan pre-approval benefits",url:"/home-loans/tips-hints-guides/home-loan-pre-approval-benefits.html"},{name:"How much do I need to borrow?",url:"/home-loans/tips-hints-guides/first-home-buyers-guide.html"},{name:"Compare types of mortgages",url:"/home-loans/tips-hints-guides/compare-mortgage-types.html"},{name:"Deposit and upfront costs for your home loan",url:"/home-loans/tips-hints-guides/deposit-and-upfront-costs.html"},{name:"First Home Buyer Case Study",url:"/home-loans/tips-hints-guides/first-home-buyers-case-study.html"},{name:"Tips for buying at auction",url:"/home-loans/tips-hints-guides/tips-for-buying-a-house-at-auction.html"},{name:"Interest Only payments",url:"/pdf/Interest Only Payments - Fact Sheet.pdf"}]},{name:"Invest in<br/> property",doubleline:!0,links:[{name:"Reasons for investing in property",url:"/home-loans/tips-hints-guides/reasons-for-investing-in-property.html"},{name:"Compare types of mortgages",url:"/home-loans/tips-hints-guides/compare-mortgage-types.html"},{name:"A handy guide to property investment",url:"/assets/pdf/handy_guide_to_property_investment.pdf",target:"_blank"},{name:"4 easy steps to invest",url:"/home-loans/tips-hints-guides/four-easy-steps-to-invest.html"},{name:"More tips for investors",url:"/home-loans/tips-hints-guides/tips-for-investors.html"},{name:"Investor FAQs",url:"/home-loans/tips-hints-guides/investors-faq.html"},{name:"Investment case study",url:"/home-loans/tips-hints-guides/investment-case-study.html"},{name:"Property buyer checklist",url:"/pdf/property_buyers_guide.pdf",target:"_blank"},{name:"Deposit and upfront costs for your home loan",url:"/home-loans/tips-hints-guides/deposit-and-upfront-costs.html"},{name:"Tips for buying at auction",url:"/home-loans/tips-hints-guides/tips-for-buying-a-house-at-auction.html"},{name:"Interest Only payments",url:"/pdf/Interest Only Payments - Fact Sheet.pdf"}]},{name:"Refinance",links:[{name:"Reasons to look at home loan refinancing",url:"/home-loans/tips-hints-guides/tips-for-mortgage-refinancing.html"},{name:"4 easy steps to refinance",url:"/home-loans/tips-hints-guides/four-easy-steps-to-refinance.html"},{name:"Tips to get the most out of your refinancing efforts",url:"/home-loans/tips-hints-guides/tips-for-mortgage-refinancing.html"},{name:"What will it cost me to refinance?",url:"/home-loans/tips-hints-guides/how-much-will-it-cost-me-to-refinance.html"},{name:"What to consider before you refinance",url:"/home-loans/tips-hints-guides/refinancing-what-to-consider.html"}]}],e(function(){$('[data-toggle="tab"][data-target="#link-tab-0"]').trigger("click")})}]),angular.module("Homeloan-App").controller("ModalMobileCalculatorController",["$scope","$timeout","$uibModalInstance","calcOptions",function(e,t,o,n){e.calcOptions=n,e.ok=function(){o.close(e.calcOptions)},e.cancel=function(){o.dismiss("cancel")},e.clickPopover=function(){$("#testPopover").popover({content:"test",placement:"top",title:"test",trigger:"click"})}}]),angular.module("Homeloan-App").controller("ModalMobileFixedRateTableController",["$scope","$uibModalInstance","fixedRateTableInfo","mainInfo",function(e,t,o,n){e.fixedRateTableInfo=o,e.mainInfo=n,e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}}]),angular.module("Homeloan-App").controller("ModalGenericController",["$scope","$uibModalInstance",function(e,t){e.ok=function(){t.close()},e.cancel=function(){t.dismiss("cancel")}}]),angular.module("Homeloan-App").config(["dynamicNumberStrategyProvider",function(e){e.addStrategy("au-dollar",{numInt:12,numFract:2,numPos:!0,numNeg:!1,numThousand:!0,numRound:"round"})}]),angular.module("Homeloan-App").directive("bsDropdown",["$compile",function(i){return{restrict:"E",scope:{items:"=dropdownData",doSelect:"&selectVal",selectedItem:"=preselectedItem"},link:function(t,o,n){var e="";switch(n.menuType){case"button":e+='<div class="btn-group btn-block"><button class="btn btn-dropdown-orange btn-block dropdown-toggle symbol-right text-left" data-toggle="dropdown">Action</button><span class="button-symbol"><span class="caret"></span></span>';break;default:e+='<div class="dropdown"><a class="dropdown-toggle" role="button" data-toggle="dropdown"  href="javascript:;">Dropdown<b class="caret"></b></a>'}e+='<ul class="dropdown-menu"><li ng-repeat="item in items"><a tabindex="-1" data-ng-click="selectVal(item)" href="javascript:;">{{rawText(item.name)}}</a></li></ul></div>',o.append(i(e)(t));for(var a=0;a<t.items.length;a++)if(t.items[a].name===t.selectedItem.name){t.bSelectedItem=t.items[a];break}t.selectVal=function(e){switch(n.menuType){case"button":$("button.dropdown-toggle",o).html(e.name);break;default:$("a.dropdown-toggle",o).html('<b class="caret"></b> '+e.name)}t.doSelect({selectedVal:e})},t.rawText=function(e){return $("<div>").html(e).text()},t.$watch("selectedItem",function(){t.selectVal(t.selectedItem)}),t.selectVal(t.bSelectedItem)}}}]),angular.module("Homeloan-App").directive("lcInterestRate",["$compile","$timeout",function(e,a){return{restrict:"A",scope:{interestRate:"=interestRate"},link:function(e,n){e.$watch("interestRate",function(e){if(angular.isDefined(e)&&null!==e){var t=n[0].querySelector(".active"),o=n[0].querySelector(".under");$(o).text(Number(e).toFixed(2)).addClass("active"),a(function(){$(o).removeClass("under")}),$(t).addClass("over"),a(function(){$(t).removeClass("active").removeClass("over").addClass("under").text("")},500)}})},template:'<div class="rate-box"><span class="active"></span><span class="under"></span></div>'}}]),angular.module("Homeloan-App").directive("bindHtmlCompile",["$compile",function(i){return{restrict:"A",link:function(o,n,a){o.$watch(function(){return o.$eval(a.bindHtmlCompile)},function(e){n.html(e&&e.toString());var t=o;a.bindHtmlScope&&(t=o.$eval(a.bindHtmlScope)),i(n.contents())(t)})}}}]),Number.prototype.formatMoney=function(e,t,o){var n=this,a=(e=isNaN(e=Math.abs(e))?2:e,t=null==t?".":t,o=null==o?",":o,n<0?"-":""),i=parseInt(n=Math.abs(+n||0).toFixed(e))+"",r=3<(r=i.length)?r%3:0;return a+(r?i.substr(0,r)+o:"")+i.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+o)+(e?t+Math.abs(n-i).toFixed(e).slice(2):"")};