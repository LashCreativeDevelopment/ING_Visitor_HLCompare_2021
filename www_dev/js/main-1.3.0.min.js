/*
 * ING DIRECT Main JS
 */// Helper for Windows Mobile Browser Size Issue
// ----------------------------------------------
// http://css-tricks.com/snippets/javascript/fix-ie-10-on-windows-phone-8-viewport/
// Fix IE 10 on Windows Phone 8 Viewport
function initializeComponents() { initializeMobileMenuButtons(); initializeMobileContentTabs(); initializeStickyHeader(); initializeStickyTabHeader(); initializeMegaMenus(); initializeHomePage(); initializeMoreContents(); initializeTabHighlighter(); initializePopOverComponents(); initializeTooltipComponents(); initializeLivingSuperContent(); initializeOeCalculator(); initializeFaqScroller(); checkDEBUG() && initializeSizeMonitor(); checkAnchorTags() } function refreshResponsiveComponents(e) { if (changedMediaQuery() === !0) { refreshMobileMenuButtons(); refreshMobileContentTabs(); refreshStickyHeader(); refreshStickyTabHeader(); refreshMegaMenus(); refreshHomePage(); refreshMoreAboutSlider(); refreshFeaturesSlider(); refreshMoreContents(); refreshLivingSuperAccordion(); refreshOeCalculator() } checkDEBUG() && refreshSizeMonitor() } function updateScrollingComponents(e) { if (mediaQuery >= media_sm && isForcedScrolling === !1) { updateStickyHeader(e); updateStickyTabHeader(e); changeStickyHeaderUsingScrollUpEvent() } } function adjustPagePosition() { var e = hashPrefix, t = window.location.hash, n = t.replace(e, ""); if (t.length > 1 && $(n).size() === 1) if (mediaQuery === media_xs) if (n === "#more-about" || n === "#important-information" || n === "#generic-footer") window.scrollTo(0, $(n).offset().top); else if (n.indexOf("content") > -1 || n.indexOf("home-quicklinks") > -1 || n.indexOf("home-everyday") > -1 || n.indexOf("home-savings") > -1 || n.indexOf("home-homeloans") > -1 || n.indexOf("home-super") > -1 || n.indexOf("home-business") > -1) { var r = $('.mobile-tab[data-target="' + n + '"]'); r.addClass("active"); $(n).css("display", "block"); window.scrollTo(0, r.offset().top) } else { var i = $(n).offset().top; $("body, html").scrollTop(i) } else if (n.indexOf("content") > -1) { var s = '.ING-tab-header .tab-list > li > a[href="' + t + '"]'; $(s).trigger("click") } else { var i = $(n).offset().top - headerBottomHeight; $("body, html").scrollTop(i) } } function checkAnchorTags() { $("a").on("click", function (e) { if (isNormalAnchorTag(this) === !0) if ($(this).attr("href").indexOf("#") !== -1) { var t = $(this).attr("href"); t.indexOf("#") !== -1 && (t = t.slice(0, t.indexOf("#"))); window.location = $(this).attr("href"); window.location.pathname === t && window.location.reload() } else if (mediaQuery === media_xs) { var n = getContentId(this); if (n !== null) { var r = "#" + hashPrefix, i = r + n; window.location.hash = i; navigator.userAgent.match("CriOS") && window.history.pushState({}, "", window.location.href) } } }) } function isNormalAnchorTag(e) { if ($(e).parents(".ING-tab-header .tab-list > li").length > 0) return !1; if (typeof $(e).attr("data-toggle") != "undefined") return !1; var t = $(e).attr("href"), n = $(e).attr("target"); return t === "#" || t.indexOf("tel:") !== -1 || n === "_blank" ? !1 : !0 } function getContentId(e) { var t = $(e).parents(".ING-tab-body article .ING-content"); if (t.length !== 0 && t.attr("id") !== "undefined") return t.attr("id"); var n = $(e).parents("#home-quicklinks"), r = $(e).parents("#home-everyday"), i = $(e).parents("#home-savings"), s = $(e).parents("#home-homeloans"), o = $(e).parents("#home-super"), u = $(e).parents("#home-business"); if (n.length !== 0) return n.attr("id"); if (r.length !== 0) return r.attr("id"); if (i.length !== 0) return i.attr("id"); if (s.length !== 0) return s.attr("id"); if (o.length !== 0) return o.attr("id"); if (u.length !== 0) return u.attr("id"); var a = $(e).parents("#more-about"), f = $(e).parents("#important-information"), l = $(e).parents("#generic-footer"); return a.length !== 0 ? a.attr("id") : f.length !== 0 ? f.attr("id") : l.length !== 0 ? l.attr("id") : null } function initializeMegaMenus() { if (checkTouch() === !0) { $(".ING-header .mega-dropdown-container").append("<div class='close-button'></div>"); $(".ING-header .mega-dropdown-container .close-button").on("click", function (e) { e.preventDefault(); $(this).parents(".menu-cell").removeClass("active"); $(this).parents(".menu-cell").children(".mega-dropdown-container:visible").fadeOut("fast"); return !1 }) } $("#btnAskSubmit").click(function () { OpenIR($("#txtAsk").val()); return !1 }); $("#txtAsk").keydown(function (e) { e.keyCode === 13 && $("#btnAskSubmit").click() }) } function refreshMegaMenus() { var e = ".ING-header .menu-cell"; resetMegaMenus(); mediaQuery === media_xs ? $(e + " > a").on("click", function (e) { if (typeof $(this).data("target") == "undefined") { window.location.href = $(this).attr("href"); return } e.preventDefault(); if ($(this).parent().hasClass("active") === !1) { $(this).parent().addClass("active"); $(this).siblings(".mega-dropdown-container:hidden").slideDown("fast"); $(this).parent().siblings().each(function (e, t) { if ($(t).hasClass("active") === !0) { $(t).removeClass("active"); $(t).children(".mega-dropdown-container:visible").slideUp("fast") } }) } else { $(this).parent().removeClass("active"); $(this).siblings(".mega-dropdown-container:visible").slideUp("fast") } }) : checkTouch() === !0 ? $(e).on("click", function (e) { if ($(this).hasClass("active") === !0) { var t = $(this).children("a").attr("href"); window.location.href = t; return } e.preventDefault(); $(this).addClass("active"); $(this).children(".mega-dropdown-container:hidden").fadeIn("fast"); $(this).siblings().each(function (e, t) { if ($(t).hasClass("active") === !0) { $(t).removeClass("active"); $(t).children(".mega-dropdown-container:visible").fadeOut("fast") } }); return !1 }) : $(e).hover(function (e) { e.preventDefault(); $(this).addClass("hovered"); var t = $(this); setTimeout(function () { if (t.hasClass("hovered") === !0) { t.addClass("active"); t.children(".mega-dropdown-container:hidden").stop().fadeIn("fast") } }, 500) }, function (e) { e.preventDefault(); $(this).removeClass("hovered"); $(this).removeClass("active"); $(this).children(".mega-dropdown-container:visible").stop().fadeOut("fast") }) } function resetMegaMenus() { var e = ".ING-header .menu-cell"; $(e).unbind("click"); $(e).unbind("hover"); $(e).removeClass("active"); $(e + " .mega-dropdown-container").css("display", "none") } function initializeMobileMenuButtons() { $(mobileMenuButton).on("click", function (e) { e.preventDefault(); if (mediaQuery === media_xs) if ($(this).hasClass("selected") === !1) { $(this).addClass("selected"); $(mobileMenuWrapper).addClass("active") } else { $(this).removeClass("selected"); $(mobileMenuWrapper).removeClass("active") } }); $(mobileSearchButton).on("click", function (e) { e.preventDefault(); if (mediaQuery === media_xs) if ($(this).hasClass("selected") === !1) { if ($("#mobile-search").size() < 1) { var t = '<div id="mobile-search" class="mobile-search"><div class="container"><form action="/application/search.aspx" method="post"><div class="search-container"><input class="input-search" type="text" autocomplete="off" value="Ask us a question" id="txtAsk-m" name="Ask_IR" maxlength="60" onkeypress="return FilterSearchInput(event);" style="color: rgb(204, 204, 204);" onclick="this.style.color=\'#000\';" onfocus="if(this.value  == \'Ask us a question\') {this.value = \'\';}" onblur="if(this.value == \'\') {this.style.color=\'#ccc\';this.value = \'Ask us a question\'; }"><input class="input-button" type="image" src="/img/etc/search-glass.png" alt="Search" id="btnAskSubmit-m" name="btnAskSubmit" title="Search"></div></form></div></div>'; $(".ING-header").after(t); $("#btnAskSubmit-m").click(function () { OpenIR($("#txtAsk-m").val()); return !1 }); $("#txtAsk-m").keydown(function (e) { e.keyCode === 13 && $("#btnAskSubmit-m").click() }) } $(this).addClass("selected"); $(".menu-buttons-container").css("border-bottom-color", "#2a2c2b"); $("#mobile-search").slideDown("fast") } else { $(this).removeClass("selected"); $(".menu-buttons-container").removeAttr("style"); $("#mobile-search").slideUp("fast") } }) } function refreshMobileMenuButtons() { if (mediaQuery === media_xs) { $(mobileMenuButton).removeClass("selected"); $(mobileMenuWrapper).removeClass("active"); $(mobileSearchButton).removeClass("selected"); $("#mobile-search").removeAttr("style") } } function transformStickyHeader(e) { if (e === statusStickyHeader) return; statusStickyHeader = e; if (statusStickyHeader === "normal") { $(".ING-header").removeClass("sticky").removeClass("mini"); $(".ING-body").css("margin-top", 0) } else if (statusStickyHeader === "sticky") { $(".ING-header").addClass("sticky").removeClass("mini"); $(".ING-body").css("margin-top", headerHeight + "px") } else if (statusStickyHeader === "mini") { $(".ING-header").addClass("sticky").addClass("mini"); $(".ING-body").css("margin-top", headerHeight + "px") } else console.log("Unknown status in transformStickyHeader(): " + statusStickyHeader) } function transformStickyTabHeader(e) { if (e === statusStickyTabHeader) return; statusStickyTabHeader = e; if (statusStickyTabHeader === "normal") { $(".ING-tab-header").removeClass("sticky"); $(".fakePaddingTop").stop().css("padding-top", 0) } else if (statusStickyTabHeader === "sticky") { $(".ING-tab-header").addClass("sticky"); var t = stickyTabHeaderMaxHeight - headerMiniGap, n = stickyTabHeaderMinHeight - headerMiniGap; $(".fakePaddingTop").css("padding-top", t + "px"); $(".fakePaddingTop").stop().animate({ "padding-top": n + "px" }, durationFast, function () { }) } else console.log("Unknown status in transformStickyTabHeader(): " + statusStickyTabHeader) } function adjustStickyTabList() { if (statusStickyTabHeader !== "sticky") { $(".ING-tab-header .tab-list > li").removeClass("active"); return } var e = $(".ING-tab-header").offset().top + $(".ING-tab-header").height() + 10, t = -1; for (var n in stickyTabIds) { var r = $(stickyTabIds[n]).offset().top; e > r && (t = n) } t >= 0 ? $(".ING-tab-header .tab-list > li:eq(" + t + ")").addClass("active").siblings().removeClass("active") : $(".ING-tab-header .tab-list > li").removeClass("active") } function adjustStickyTabOrangeBar() { var e = $(".ING-tab-header .orange-bar").hasClass("invisible"); if (statusStickyTabHeader !== "sticky") { e === !1 && $(".ING-tab-header .orange-bar").addClass("invisible"); return } e === !0 && $(".ING-tab-header .orange-bar").removeClass("invisible"); if ($(".ING-tab-header .tab-list > li.active").size() === 1) { var t = $(".ING-tab-header .tab-list > li.active").index(), n = $(".ING-tab-header .tab-list > li").size(), r = t / n * 100; $(".ING-tab-header .orange-bar").css("left", r + "%") } } function changeStickyHeaderUsingScrollUpEvent() { if (statusStickyTabHeader === "sticky") { var e = $(window).scrollTop(); if (e < mouseWheelPos) { statusStickyHeader === "mini" && transformStickyHeader("sticky"); isScrollUpEvent = !0 } else isScrollUpEvent = !1; mouseWheelPos = e } } function initializeStickyHeader() { $("#main-menu-button, #search-menu-button").on("click", function (e) { e.preventDefault(); if (mediaQuery >= media_sm) if (statusStickyHeader === "mini") { BrowserDetect.browser === "Firefox" && (allowMegaDropdownMenu = !1); transformStickyHeader("sticky") } else console.log("Unexpected control in Sticky Header") }) } function updateStickyHeader(e) { var t = $("#additional-info-box").height(), n = $(".ING-tab-header").prev("div, section, article").height(), r = headerTopHeight + t + n; $(window).scrollTop() > r && $(".ING-tab-header").size() > 0 ? isScrollUpEvent === !1 && transformStickyHeader("mini") : $(window).scrollTop() > headerTopHeight + t ? transformStickyHeader("sticky") : transformStickyHeader("normal") } function refreshStickyHeader() { mediaQuery === media_xs && transformStickyHeader("normal") } function initializeStickyTabHeader() { stickyTabHeaderMaxHeight = $(".ING-tab-header").height(); $(".ING-tab-header .tab-list > li").each(function (e, t) { stickyTabIds[e] = $(t).children("a").attr("href").replace("ING-", "") }); var e = $("<div/>").addClass("fakePaddingTop"); e.prependTo(".ING-body"); var t = $(".ING-tab-header .tab-list > li").size(), n = 1 / t * 100; $("<div/>").addClass("orange-bar").addClass("invisible").css("width", n + "%").css("left", 0).appendTo(".ING-tab-header .tab-list"); $(".ING-tab-header .tab-list > li > a").on("click", function (e) { e.preventDefault(); var t = stickyTabIds[$(this).parent().index()], n = $(t).offset().top - $(".ING-tab-header").height() - headerMiniHeight + 1 + 40; statusStickyHeader === "normal" && (n -= headerMiniGap); isForcedScrolling = !0; transformStickyHeader("mini"); transformStickyTabHeader("sticky"); $(this).parent().addClass("active").siblings().removeClass("active"); adjustStickyTabOrangeBar(); var r = Math.sqrt(Math.abs($(window).scrollTop() - n)) * pageScrollingWeight * 20; $("body, html").stop().animate({ scrollTop: n }, r, "easeOutQuint", function () { isForcedScrolling = !1 }) }) } function updateStickyTabHeader(e) { if ($(".ING-tab-header").size() === 0) return; var t = $("#additional-info-box").height(), n = $(".ING-tab-header").prev("div, section, article").height(), r = headerTopHeight + t + n; $(window).scrollTop() > r && $(".ING-header").hasClass("sticky") ? transformStickyTabHeader("sticky") : transformStickyTabHeader("normal"); adjustStickyTabList(); adjustStickyTabOrangeBar() } function refreshStickyTabHeader() { mediaQuery === media_xs && transformStickyTabHeader("normal") } function initializeMobileContentTabs() { $(mobileContentTab).on("click", function (e) { e.preventDefault(); var t = $(this).data("target"), n = $(this).get(0); if ($(this).hasClass("active") === !1) { $(this).addClass("active"); $(t).slideDown(durationFast) } else { $(this).removeClass("active"); $(t).slideUp(durationFast) } }) } function refreshMobileContentTabs() { mediaQuery === media_xs ? $(mobileContentTab).each(function (e, t) { var n = $(t).data("target"); $(t).hasClass("active") === !0 ? $(n).show() : $(n).hide() }) : $(mobileContentTab).each(function (e, t) { var n = $(t).data("target"); $(n).removeAttr("style") }) } function initializeHomePage() { $(".ING-people .tab-list > li").on("click", function (e) { function i() { $(".ING-people .content").removeAttr("style") } e.preventDefault(); var t = $(this).data("target"), n = $(".ING-people .content-container").hasClass("active"); if (n === !1) { $(this).addClass("active"); $(this).siblings("li").addClass("inactive"); updatePeopleHighlighter(); var r = $("#home-archetype").offset().top - headerBottomHeight; $("body, html").stop().animate({ scrollTop: r }, 400, "easeOutQuart", function () { $(t + ":hidden").slideDown(400, "easeInQuint", function () { saveOpenPeopleStatus(!0); $(t).addClass("active").addClass("fade").addClass("in"); $(t).siblings().removeClass("active").removeClass("in").addClass("fade"); i() }) }) } else if ($(this).hasClass("active") === !1) { $(this).addClass("active").removeClass("inactive"); $(this).siblings("li.active").removeClass("active"); $(this).siblings("li").addClass("inactive"); updatePeopleHighlighter(); $(t).siblings(".active").removeClass("in"); setTimeout(function () { $(t).siblings(".active").removeClass("active"); $(t).addClass("active"); setTimeout(function () { $(t).addClass("in") }, 0) }, durationFast) } else { $(".ING-people .tab-list > li.active").removeClass("active"); updatePeopleHighlighter(); $(t + ":visible").slideUp(durationFast, function () { clearPeopleMenuAll() }) } }); $(".ING-people .close-button").on("click", function (e) { e.preventDefault(); $(".ING-people .tab-list > li.active").removeClass("active"); updatePeopleHighlighter(); $(this).parent(":visible").slideUp(durationFast, function () { clearPeopleMenuAll() }) }) } function refreshHomePage() { if (mediaQuery === media_xs) { clearPeopleMenuAll(); updatePeopleHighlighter() } if (mediaQuery !== media_xs) { $(".dynamic-table-box .table-container .table").removeAttr("style"); var e = $(".dynamic-table-box .table-container").size(), t = mediaQuery === media_sm ? 2 : 3, n = parseInt(e / t, 10); for (var r = 0; r < n; r++) { var i = 0, s = 0; for (var o = 0; o < t; o++) { s = t * r + o; var u = $(".dynamic-table-box .table-container:eq(" + s + ") .table").height(); u > i && (i = u) } for (o = 0; o < t; o++) { s = t * r + o; $(".dynamic-table-box .table-container:eq(" + s + ") .table").css("height", i + "px") } } } else $(".dynamic-table-box .table-container .table").css("height", "auto"); refreshHomeHeroSlider() } function clearPeopleMenuAll() { $(".ING-people .content").removeClass("active").removeClass("fade").removeClass("in").removeAttr("style"); $(".ING-people .tab-list > li").removeClass("active").removeClass("inactive").removeAttr("style"); saveOpenPeopleStatus(!1) } function saveOpenPeopleStatus(e) { e === !0 ? $(".ING-people .content-container").addClass("active") : $(".ING-people .content-container").removeClass("active") } function updatePeopleHighlighter() { if ($(".ING-people .tab-list > li.active").size() > 0) { var e = $(".ING-people .tab-list > li.active").index(), t = e * 20; $(".ING-people .highlighter").css("left", t + "%").fadeIn(durationFast, function () { $(this).addClass("active") }) } else $(".ING-people .highlighter").fadeOut(durationFast, function () { $(this).removeClass("active") }) } function refreshMoreAboutSlider() { if ($("#more-about-slider").size() !== 1) return; var e, t, n, r; if (checkIE8() === !0) { e = 220; t = 20; n = 4; r = 4 } else if (mediaQuery === media_xs) { e = 0; t = 0; n = 1; r = 1 } else if (mediaQuery === media_sm) { e = 224; t = 20; n = 3; r = 3 } else if (mediaQuery === media_md) { e = 220; t = 20; n = 4; r = 4 } else { if (mediaQuery !== media_lg) { console.log("unknown media query"); return } e = 254; t = 30; n = 4; r = 4 } moreAboutSlider === null ? createMoreAboutSlider(e, t, n, r) : reloadMoreAboutSlider(e, t, n, r) } function createMoreAboutSlider(e, t, n, r) { moreAboutSliderLoaded = !1; moreAboutSlider = $("#more-about-slider").bxSlider({ slideWidth: e, slideMargin: t, minSlides: n, maxSlides: r, startSlider: 0, nextText: "", prevText: "", adaptiveHeight: !0, onSliderLoad: function () { moreAboutSliderLoaded = !0 } }) } function reloadMoreAboutSlider(e, t, n, r) { moreAboutSliderLoaded = !1; moreAboutSlider.reloadSlider({ slideWidth: e, slideMargin: t, minSlides: n, maxSlides: r, startSlider: 0, nextText: "", prevText: "", adaptiveHeight: !0, onSliderLoad: function () { moreAboutSliderLoaded = !0 } }) } function refreshFeaturesSlider() { if ($("#features-slider").size() !== 1) return; var e, t, n, r; if (mediaQuery === media_xs && featuresSlider !== null) { featuresSlider.destroySlider(); featuresSlider = null; $("#features-slider").addClass("reset-bx-slider"); $(".content-features-slider").removeClass("ready"); return } if (mediaQuery === media_sm) { e = 237.3333333333333; t = 0; n = 3; r = 3 } else if (mediaQuery === media_md) { e = 235; t = 0; n = 4; r = 4 } else { if (mediaQuery !== media_lg) { console.log("unknown media query: " + mediaQuery); return } e = 276.5; t = 0; n = 4; r = 4 } if (featuresSlider === null) { $("#features-slider").removeClass("reset-bx-slider"); featuresSliderLoaded = !1; featuresSlider = $("#features-slider").bxSlider({ slideWidth: e, slideMargin: t, minSlides: n, maxSlides: r, startSlider: 0, nextText: "", prevText: "", adaptiveHeight: !1, infiniteLoop: !1, hideControlOnEnd: !0, onSliderLoad: function () { featuresSliderLoaded = !0; $("ul.features-slider").css("display", "block"); $(".content-features-slider").addClass("ready") } }) } else { featuresSliderLoaded = !1; featuresSlider.reloadSlider({ slideWidth: e, slideMargin: t, minSlides: n, maxSlides: r, startSlider: 0, nextText: "", prevText: "", adaptiveHeight: !1, infiniteLoop: !1, hideControlOnEnd: !0, onSliderLoad: function () { featuresSliderLoaded = !0; $("ul.features-slider").css("display", "block"); $(".content-features-slider").addClass("ready") } }) } } function refreshHomeHeroSlider() { if ($("#home-hero-slider").size() !== 1) return; if (mediaQuery >= media_md || checkIE8() === !0) { if (homeHeroSlider !== null) { homeHeroSlider.destroySlider(); homeHeroSlider = null; $("#home-hero-slider").addClass("reset-bx-slider") } return } if (homeHeroSlider === null) { $("#home-hero-slider").removeClass("reset-bx-slider"); homeHeroSliderLoaded = !1; $(".ING-home-slider").css({ height: "1px", overflow: "hidden" }); homeHeroSlider = $("#home-hero-slider").bxSlider({ auto: !0, onSliderLoad: function () { homeHeroSliderLoaded = !0; $(".ING-home-slider").removeAttr("style") } }) } else { homeHeroSliderLoaded = !1; homeHeroSlider.reloadSlider({ auto: !0, onSliderLoad: function () { homeHeroSliderLoaded = !0 } }) } } function showAllLivingSuperCollapse() { var e = $("#living-super-accordion li.panel.active").index(); e !== -1 && (livingSuperSelectedIndex = e); $("#living-super-accordion li.panel").removeClass("active").find(".slide-content").show() } function setInitialSelectedState() { $("#living-super-accordion li.panel:eq(" + livingSuperSelectedIndex + ")").find(".slide-handle").hide(); $("#living-super-accordion li.panel:eq(" + livingSuperSelectedIndex + ")").siblings().find(".slide-handle").show() } function onTriggerSlide() { this.children(".slide-handle").fadeOut("fast").end().parent().siblings().find(".slide-handle").stop(!1, !0).fadeIn("fast"); livingSuperSelectedIndex = this.parent().index() } function createLivingSuperAccordion(e, t, n, r) { if ($("#living-super-accordion").size() === 1) { showAllLivingSuperCollapse(); accordionLivingSuper = $("#living-super-accordion").liteAccordion({ firstSlide: livingSuperSelectedIndex + 1, containerWidth: e, containerHeight: t, slideSpeed: 300, headerWidth: n, contentWidth: r, theme: "living-super", onTriggerSlide: onTriggerSlide }); setInitialSelectedState() } } function destroyLivingSuperAccordion() { if (accordionLivingSuper !== null) { $("#living-super-accordion").liteAccordion("destroy"); accordionLivingSuper = null; $("#living-super-accordion li.panel .slide-handle").removeAttr("style") } } function refreshLivingSuperAccordion() { if (checkIE8() === !0) { accordionLivingSuper === null && createLivingSuperAccordion(880, 532, 144, 592); return } destroyLivingSuperAccordion(); mediaQuery === media_xs ? refreshLivingSuperCollapse() : mediaQuery === media_sm ? createLivingSuperAccordion(672, 502, 102, 468) : mediaQuery === media_md ? createLivingSuperAccordion(880, 532, 144, 592) : mediaQuery === media_lg && createLivingSuperAccordion(1040, 532, 156, 728) } function refreshLivingSuperCollapse() { $("#living-super-accordion li.panel:eq(" + livingSuperSelectedIndex + ")").addClass("active").find(".slide-content").show(); $("#living-super-accordion li.panel:eq(" + livingSuperSelectedIndex + ")").siblings().removeClass("active").find(".slide-content").hide(); $("#living-super-accordion li.panel .title-container").unbind("click"); $("#living-super-accordion li.panel .title-container").on("click", function (e) { e.preventDefault(); if (mediaQuery === media_xs) { var t = $(this).data("target"); if ($(t).parent().parent().hasClass("active") === !0) { console.log("has active"); $(t).parent().parent().removeClass("active"); $(t).slideUp("fast"); livingSuperSelectedIndex = 0 } else { console.log("does not have active"); $(t).parent().parent().addClass("active"); $(t).slideDown("fast"); $(t).parent().parent().siblings().removeClass("active"); $(t).parent().parent().siblings().find(".slide-content").slideUp("fast"); livingSuperSelectedIndex = $(t).parent().parent().index() } } }) } function initializeLivingSuperContent() { $("#living-super-accordion .bottom-title-bar").on("click", function (e) { e.preventDefault(); onClickPopOverClose(); if ($(this).parent().hasClass("active") === !0) { $(this).parent().removeClass("active"); Modernizr.csstransitions === !1 && $(this).parent().animate({ top: 0 }, "normal") } else { $(this).parent().addClass("active"); if (Modernizr.csstransitions === !1) { var t = 0; mediaQuery === media_sm ? t = -422 : mediaQuery >= media_md && (t = -422); $(this).parent().animate({ top: t + "px" }, "normal") } } }); $("#living-super-accordion .detail-info-selector").on("click", function (e) { e.preventDefault(); var t = !1; $(this).parent().siblings(".horizontal-sliding-container").each(function (e, n) { $(n).hasClass("active") === !0 && (t = !0) }); if (t === !1) { var n = $(this).data("target"); $(n).addClass("active"); Modernizr.csstransitions === !1 && $(n).animate({ left: 0 }, "normal") } }); $("#living-super-accordion .horizontal-sliding-container .close-button").on("click", function (e) { e.preventDefault(); $(this).parent().parent().removeClass("active"); Modernizr.csstransitions === !1 && $(this).parent().parent().animate({ left: "100%" }, "normal") }); $("#living-super-accordion .slide-handle").on("click", function (e) { e.preventDefault(); onClickPopOverClose() }) } function initializeOeCalculator() { if ($("#oe-calculator").size() !== 1) return; var e = parseInt($("#txtCoffee").val(), 10), t = parseInt($("#txtPetrol").val(), 10), n = parseInt($("#txtGroceries").val(), 10), r = parseInt($("#txtTaxi").val(), 10); $("#expense1").noUiSlider({ range: [0, 100], start: e, step: 1, handles: 1, serialization: { to: $("#txtCoffee") }, slide: onSlideInOeCalculator, set: onClickInOeCalculator }); $("#expense2").noUiSlider({ range: [0, 1e3], start: t, step: 10, handles: 1, serialization: { to: $("#txtPetrol") }, slide: onSlideInOeCalculator, set: onClickInOeCalculator }); $("#expense3").noUiSlider({ range: [0, 500], start: n, step: 10, handles: 1, serialization: { to: $("#txtGroceries") }, slide: onSlideInOeCalculator, set: onClickInOeCalculator }); $("#expense4").noUiSlider({ range: [0, 800], start: r, step: 10, handles: 1, serialization: { to: $("#txtTaxi") }, slide: onSlideInOeCalculator, set: onClickInOeCalculator }) } function refreshOeCalculator() { updateSliderValuesInOe("#expense1"); updateSliderValuesInOe("#expense2"); updateSliderValuesInOe("#expense3"); updateSliderValuesInOe("#expense4"); calculateOeTotal() } function updateSliderValuesInOe(e) { var t = $(e).find(".noUi-origin-lower").css("left"); $(e).parent().find(".slider-arrow").css("left", t); var n = $(e).parents(".sliderRow").data("labelfield"), r = $($(e).parents(".sliderRow").attr("data-valuefield")).val(); $(n + " span").html(Math.round(r)) } function calculateOeTotal() { var e = 2, t = 12, n = t * 4.34812, r = parseInt($("#txtCoffee").val(), 10), i = parseInt($("#txtPetrol").val(), 10), s = parseInt($("#txtGroceries").val(), 10), o = parseInt($("#txtTaxi").val(), 10), u = r * n * (e / 100); u += i * n * (e / 100); u += s * n * (e / 100); u += o * n * (e / 100); $("#txtTotal").html(u.toFixed(2)); $("#txtTotal2").html(u.toFixed(2)) } function onSlideInOeCalculator() { updateSliderValuesInOe(this); calculateOeTotal() } function onClickInOeCalculator() { setTimeout(function () { updateSliderValuesInOe(this); calculateOeTotal() }, 300) } function initializeMoreContents() { initializeDisclaimer(); initializeMoreFeatures() } function refreshMoreContents() { refreshDisclaimer() } function initializeDisclaimer() { $(".ING-footer .important-information .read-more").on("click", function (e) { e.preventDefault(); $(this).addClass("active"); $(".ING-footer .important-information .collapsed").addClass("active") }) } function refreshDisclaimer() { $(".ING-footer .important-information .read-more").removeClass("active"); $(".ING-footer .important-information .collapsed").removeClass("active") } function initializeMoreFeatures() { $('a[data-toggle="collapse"].more-features-style').on("click", function (e) { e.preventDefault(); $(this).fadeOut("fast") }) } function initializeTabHighlighter() { $('.content-tab-style > li > a[data-toggle="tab"]').on("show.bs.tab", function (e) { var t = $(this).parents(".content-tab-style").children("li").size() - 1, n = 100 / t, r = $(this).parent().index() * n; $(this).parent().siblings(".highlighter").css("left", r + "%") }) } function initializeTooltipComponents() { checkTouch() === !0 ? $("[data-toggle=tooltip]").tooltip({ trigger: "click", html: "true" }) : $("[data-toggle=tooltip]").tooltip({ trigger: "hover", html: "true", container: "body" }) } function initializePopOverComponents() { $('[data-toggle="popover"]').popover({ trigger: "manual", html: "true" }); $('[data-toggle="popover"]').on("click", function (e) { e.preventDefault(); if ($(this).data("shown") === "true") { $(this).data("shown", "false"); $(this).removeClass("active"); $(this).popover("hide") } else { onClickPopOverClose(); $(this).data("shown", "true"); $(this).addClass("active"); $(this).popover("show") } }); $('[data-toggle="collapse"]').each(function (e, t) { $($(t).attr("href")).on("hide.bs.collapse", function () { onClickPopOverClose() }) }); $('a[data-toggle="tab"]').on("show.bs.tab", function (e) { onClickPopOverClose() }) } function onClickPopOverClose() { $("[data-toggle=popover]").each(function (e, t) { if ($(t).data("shown") === "true") { $(t).data("shown", "false"); $(t).removeClass("active"); $(t).popover("hide") } }) } function initializeFaqScroller() { $('[data-toggle="scroller"]').on("click", function (e) { e.preventDefault(); var t = $(this).attr("href"), n = $(t).offset().top - headerBottomHeight; $(".ING-tab-header").size() === 1 && (n = $(t).offset().top - (headerBottomHeight + stickyTabHeaderMinHeight - headerMiniGap)); $("body, html").stop().animate({ scrollTop: n }, 500, "easeOutQuint") }) } function onClickResponsiveLogin() { if (mediaQuery === media_xs) { var e = "/mobile-login.html"; window.location.href = e } else OpenClient(); return !1 } function onClickMobileApp() { var e = "https://itunes.apple.com/au/app/ing-direct-australia-banking/id427100193?mt=8&ign-mpt=uo%3D4", t = "https://play.google.com/store/apps/details?id=au.com.ingdirect.android", n = "http://www.windowsphone.com/en-au/store/app/ing-direct/3e80e3bb-ed81-4ec1-af60-0b185a21b670"; if (jQuery.browser.mobile === !0) { var r = navigator.userAgent, i = ""; if (r.indexOf("Android") >= 0) i = t; else if (r.indexOf("iPhone") >= 0 || r.indexOf("iPod") >= 0) i = e; else { if (!(r.indexOf("IEMobile") >= 0)) return !1; i = n } var s = window.open(i, "_blank"); s.focus() } return !1 } function changedMediaQuery() { var e = $(window).width(), t; checkIE8() === !0 ? t = media_md : e < minTablet ? t = media_xs : e < minMiddle ? t = media_sm : e < minLarge ? t = media_md : t = media_lg; if (t !== mediaQuery) { mediaQuery = t; return !0 } return !1 } function checkIE8() { return $("html").hasClass("ie8") } function checkOldIE() { var e = navigator.userAgent.toLowerCase(); if ((e.match(/windows nt 5.1/) || e.match(/windows nt 6.0/) || e.match(/windows nt 5.2/)) && $.browser.msie && $.browser.version <= 7) { $(".box").append("<p style='text-align:center;'>We have detected that you are using Internet Explorer 7. It has known <strong>security flaws</strong> and may <strong>not display all features</strong> of this and other websites.<br />Please upgrade to one of the following - <a href='http://www.microsoft.com/en-au/download/internet-explorer-8-details.aspx' target='_blank'>Internet Explorer</a>, <a href='http://www.mozilla.org/en-US/firefox/new/' target='_blank'>Firefox</a>, <a href='http://www.apple.com/au/safari/' target='_blank'>Safari</a> and <a href='http://www.google.com/chrome/' target='_blank'>Chrome</a>.</p><div class='close_box style='text-align:right;cursor:pointer;float:right;margin-right:50px;'>&times;</div>"); $(".box").slideDown("slow"); $(".close_box").click(function () { $(".box").slideUp("slow") }) } } function checkCssTransitions() { return $("html").hasClass("csstransitions") } function checkDEBUG() { return $("html").hasClass("DEBUG") } function checkTouch() { return Modernizr.touch || "ontouchstart" in window || navigator.msMaxTouchPoints > 0 } function OSDetect() { navigator.appVersion.indexOf("Win") !== -1 ? OSName = "Windows" : navigator.appVersion.indexOf("Mac") !== -1 ? OSName = "MacOS" : navigator.appVersion.indexOf("X11") !== -1 ? OSName = "UNIX" : navigator.appVersion.indexOf("Linux") !== -1 && (OSName = "Linux") } function initializeSizeMonitor() { var e = $('<div class="size-monitor"/>').append('<p id="debug_browser-width">width: 0px</p>').append('<p id="debug_browser-height">height: 0px</p>').append('<p class="visible-xs">[Mobile]</p>').append('<p class="visible-sm">[Tablet]</p>').append('<p class="visible-md">[Desktop]</p>').append('<p class="visible-lg">[Large Desktop]</p>'); e.prependTo("body") } function refreshSizeMonitor() { $("#debug_browser-width").text("width: " + $(document).width() + "px"); $("#debug_browser-height").text("height: " + $(document).height() + "px") } (function () { if (navigator.userAgent.match(/IEMobile\/10\.0/)) { var e = document.createElement("style"); e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")); document.getElementsByTagName("head")[0].appendChild(e) } })(); var minTablet = 768, minMiddle = 980, minLarge = 1200, media_xs = 0, media_sm = 1, media_md = 2, media_lg = 3, mediaQuery = -1, durationNormal = 500, durationFast = 300, hashPrefix = "ING-", mobileMenuButton = "#main-menu-button", mobileMenuWrapper = ".mobile-side-wrapper", mobileLoginButton = "#login-menu-button", mobileSearchButton = "#search-menu-button", headerTopHeight = 80, headerBottomHeight = 58, headerMiniHeight = 44, headerHeight = headerTopHeight + headerBottomHeight, headerMiniGap = headerBottomHeight - headerMiniHeight, stickyTabHeaderMinHeight = 135, stickyTabHeaderMaxHeight, statusStickyHeader = "normal", statusStickyTabHeader = "normal", stickyTabIds = [], isForcedScrolling = !1, pageScrollingWeight = 1, allowMegaDropdownMenu = !1; $(document).ready(function () { OSDetect(); initializeComponents();$(window).trigger("resize"); $(window).trigger("scroll"); setTimeout(function () { adjustPagePosition() }, 100); $("a[href$='#']").click(function () { return !1 }) }); $(window).resize(function (e) { refreshResponsiveComponents(e) }); $(window).scroll(function (e) { updateScrollingComponents(e) }); var mouseWheelPos = 0, isScrollUpEvent = !1, mobileContentTab = ".mobile-tab", moreAboutSlider = null, moreAboutSliderLoaded = !1, featuresSlider = null, featuresSliderLoaded = !1, homeHeroSlider = null, homeHeroSliderLoaded = !1, accordionLivingSuper = null, livingSuperSelectedIndex = 0; $('a[data-toggle="popup-window"]').on("click", function (e) { e.preventDefault(); var t = 600, n = 600; if ($(this).data("size") === "large") { t = 900; n = 800 } else if ($(this).data("size") === "call") { t = 285; n = 385 } var r = screen.width / 2 - t / 2, i = screen.height / 2 - n / 2, s = $(this).attr("href"), o = "popup", u = "toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=no, copyhistory=no, width=" + t + ", height=" + n; window.open(s, o, u) }); $('a[data-toggle="new-tab-page"]').on("click", function (e) { e.preventDefault(); var t = $(this).attr("href"), n = window.open(t, "_blank"); n.focus() }); var BrowserDetect = {
    init: function () { this.browser = this.searchString(this.dataBrowser) || "Other"; this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || "Unknown" }, searchString: function (e) { for (var t = 0; t < e.length; t++) { var n = e[t].string; this.versionSearchString = e[t].subString; if (n.indexOf(e[t].subString) !== -1) return e[t].identity } }, searchVersion: function (e) { var t = e.indexOf(this.versionSearchString); if (t === -1) return; return parseFloat(e.substring(t + this.versionSearchString.length + 1)) }, dataBrowser: [{ string: navigator.userAgent, subString: "Chrome", identity: "Chrome" }, {
        string: navigator.userAgent, subString: "MSIE", identity: "Explorer"
},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init();var OSName="Unknown OS";